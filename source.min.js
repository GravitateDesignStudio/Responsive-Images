/**
 * Responsive Images
 * Version: 3.0.0
 * Author: Geoff Gedde
 * license: http://www.opensource.org/licenses/mit-license.php
 */
!function(a){a.fn.responsiveImages=function(e){function i(){var e,i=a(window).width();a("[data-rimg-small], [data-rimg-medium], [data-rimg-large]").each(function(t){var o=a(this),m=o.outerWidth(),c=m>0?m:i,g=!0,u=!1,f=o.attr("src"),z=o.css("background-image");if(s.lazyload&&!l){n=r+d;var w=parseFloat(o.offset().top);w-100>n&&(g=!1,(!f||f.indexOf("data:")>-1)&&(!z||"none"==z||z.indexOf("data:")>-1)&&o.css({opacity:0,transition:"opacity .5s ease-in-out"}))}if(g)for(e in s.sizes)if(c>0&&c<s.sizes[e].size){for(var h=s.downscale?e-1:e;h>=0;h--)if(o.attr("data-rimg-"+s.sizes[h].name)){"IMG"===o.prop("tagName")?((!f||f.indexOf("data:")>-1)&&s.lazyload&&(u=!0),o.attr("src")!=o.attr("data-rimg-"+s.sizes[h].name)&&o.attr("src",o.attr("data-rimg-"+s.sizes[h].name)),u&&o.css("opacity","1")):((!o.css("background-image")||"none"==o.css("background-image")||o.css("background-image").indexOf("data:")>-1)&&s.lazyload&&(u=!0),o.css("background-image")!=o.attr("data-rimg-"+s.sizes[h].name)&&o.css("background-image","url('"+o.attr("data-rimg-"+s.sizes[h].name)+"')"),u&&o.css("opacity","1"));break}break}})}var t,o,s=a.extend({throttle:100,downscale:!1,onload:!0,lazyload:!0,sizes:[{name:"small",size:320},{name:"medium",size:500},{name:"medium_large",size:768},{name:"large",size:1024},{name:"xlarge",size:1440},{name:"full",size:99999}]},e),n=0,r=0,d=0,l=!1,m=-1;a(window).on("resize",function(){return s.lazyload&&(r=a(window).scrollTop(),d=a(window).height()),s.throttle?(clearTimeout(t),void(t=setTimeout(i,s.throttle))):void i()}),s.lazyload&&(r=a(window).scrollTop(),d=a(window).height(),a(window).on("scroll",function(){if(r=a(window).scrollTop(),!l&&r>m){if(m=r,r+d>=a(document).height()&&(l=!0),s.throttle)return clearTimeout(o),void(o=setTimeout(i,10));i()}})),s.onload&&i()}}(jQuery);
