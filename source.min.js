/**
 * Responsive Images
 * Version: 4.2.2
 * Author: Geoff Gedde
 * license: http://www.opensource.org/licenses/mit-license.php
 */
!function(a){a.fn.responsiveImages=function(i){function e(){c=a(window).scrollTop(),u=a(window).height()}function o(a){var i=c+u,e=parseFloat(a.offset().top);return e-m.lazyload_threshold<=i}function t(){l=a("[data-rimg-small], [data-rimg-medium], [data-rimg-large]").addClass("rimg"),m.lazyload&&(e(),l.each(function(i){var e=a(this);if(!o(e)){var t=e.attr("src"),n=e.css("background-image").split('url("').join("").split('")').join("");(!t||t.indexOf("data:")>-1)&&(!n||"none"==n||n.indexOf("data:")>-1)&&e.addClass("rimg-lazy")}}))}function n(a,i,e){for(var o in m.sizes)if(o>e&&a===i.attr("data-rimg-"+m.sizes[o].name))return!0;return!1}function s(){var i,e=a(window).width();l.each(function(t){var s,r=a(this),d=r.outerWidth(),l=d>0&&"tag"===m.watch?d:e,c=!0,u=r.attr("src"),g=r.css("background-image").split('url("').join("").split('")').join("");if(!m.lazyload||f||r.hasClass("rimg-loaded")||(c=o(r)),c)for(i in m.sizes)if(l>0&&l<m.sizes[i].size){for(var z=m.downscale?i-1:i;z>=0;z--)if(s=r.attr("data-rimg-"+m.sizes[z].name)){"IMG"===r.prop("tagName")?u==s||!m.downsize&&(m.downsize||n(u,r,z))||(r.hasClass("rimg-loaded")?r.attr("src",s):r.attr("src",s).one("load",function(){a(this).addClass("rimg-loaded")})):g==s||!m.downsize&&(m.downsize||n(g,r,z))||a("<img/>").attr("src",s).one("load",function(){a(this).remove(),r.css("background-image","url('"+s+"')").addClass("rimg-loaded")});break}break}})}var r,d,l,m=a.extend({watch:"tag",throttle:100,downscale:!1,downsize:!1,onload:!0,lazyload:!0,lazyload_threshold:100,sizes:[{name:"small",size:320},{name:"medium",size:500},{name:"medium_large",size:768},{name:"large",size:1024},{name:"xlarge",size:1440},{name:"full",size:99999}]},i),c=0,u=0,f=!1,g=-1;t(),a(window).on("resize",function(){return m.lazyload&&e(),m.throttle?(clearTimeout(r),void(r=setTimeout(s,m.throttle))):void s()}),m.lazyload&&(e(),a(window).on("scroll",function(){if(c=a(window).scrollTop(),!f&&c>g){if(g=c,c+u>=a(document).height()&&(f=!0),m.throttle)return clearTimeout(d),void(d=setTimeout(s,10));s()}})),m.onload&&setTimeout(function(){s()},0)}}(jQuery);
